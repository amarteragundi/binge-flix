(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),s=a(8),l=a.n(s),o=a(17),m=a(2),u=a(3),d=a(5),h=a(4),p=a(6),v=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},a.onFormSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.term)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"searchBar"},r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"ui massive fluid input"},r.a.createElement("input",{type:"text",value:this.state.term,placeholder:"type tv show name and press enter ...",onChange:function(t){return e.setState({term:t.target.value.toUpperCase()})}}))))}}]),t}(r.a.Component),f=a(18),g=a.n(f).a.create({baseURL:"http://cors.io/?http://api.tvmaze.com"}),E=a(19),y=a.n(E),b=function(e){return e.title?r.a.createElement("h1",{style:{color:"white",textTransform:"uppercase"}},e.title," |",r.a.createElement("span",{style:{fontSize:"14px",verticalAlign:"middle"}},r.a.createElement("i",{className:"heart icon",style:{color:"#ff6d75",marginLeft:"5px"}}),e.rating)):r.a.createElement("div",null)};var N=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(t=e.description,{__html:t}.__html)}});var t},w=function(e){var t,a;if(e.details){t=e.details;var n=["language","film","calendar","circle"];a=t.map(function(e,t){if(Array.isArray(e,t))return r.a.createElement("div",{key:t,className:"four wide column"},r.a.createElement("h3",{className:"ui header"},r.a.createElement("i",{className:"large icons"},r.a.createElement("i",{className:"".concat(n[t]," icon")})),e.join(", ")));if("object"===typeof e&&e.constructor===Object){var a="";for(var c in e)"string"==typeof e[c]?e[c]&&(a+=e[c]):e[c]&&(a+=" ".concat(e[c].join()));return r.a.createElement("div",{key:t,className:"four wide column"},r.a.createElement("h3",{className:"ui header"},r.a.createElement("i",{className:"large icons"},r.a.createElement("i",{className:"".concat(n[t]," icon")})),a))}var i;return"circle"==n[t]&&(i="Ended"==e?"red":"green"),r.a.createElement("div",{key:t,className:"four wide column"},r.a.createElement("h3",{className:"ui header"},r.a.createElement("i",{className:"large icons"},r.a.createElement("i",{className:"".concat(n[t]," icon"),style:{color:i}})),e))})}return r.a.createElement("div",{className:"ui grid",style:{marginTop:"30px"}},a)},x=function(e){var t=e.details.map(function(e,t){return r.a.createElement("div",{key:t,className:"column"},r.a.createElement("div",{className:"ui fluid card",style:{boxShadow:"none"}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.character.image?e.character.image.medium:""})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header"},e.character.name),r.a.createElement("div",{className:"meta"},r.a.createElement("a",null,"Played by ",e.person.name)))))});return r.a.createElement("div",{className:"sixteen wide column"},r.a.createElement("div",{className:"ui six column grid"},t))},S={search:!1,title:"",rating:0,description:"",otherDetails:[],poster:"",cast:[]},k=function(){return r.a.createElement("div",{className:"ui segment",style:{height:"100vh"}},r.a.createElement("div",{className:"ui active dimmer"},r.a.createElement("div",{className:"ui massive text loader"},"Loading")))},j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=S,a.onSearchSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a.showLoader(),e.next=4,g.get("/singlesearch/shows",{params:{q:t,embed:"cast"}}).then(function(e){var t=e.data;a.setState({title:t.name,rating:t.rating.average,poster:t.image.medium,description:t.summary,otherDetails:[t.language,t.genres,t.schedule,t.status],cast:t._embedded.cast})}).catch(function(e){a.hideLoader(),alert("No shows found!! Make sure the search term is correct")});case 4:e.sent,a.hideLoader();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getGradient()}},{key:"componentDidUpdate",value:function(){this.getGradient()}},{key:"showLoader",value:function(){this.setState({search:!0})}},{key:"hideLoader",value:function(){this.setState({search:!1})}},{key:"getGradient",value:function(){y()(this.state.poster,{angle:0,steps:5},function(e,t){console.log(t),document.querySelector("body").style.background=t})}},{key:"render",value:function(){return this.state.search?r.a.createElement("div",null,r.a.createElement(k,null)):r.a.createElement("div",null,r.a.createElement(v,{onSubmit:this.onSearchSubmit}),r.a.createElement("div",{style:{margin:"0px auto",padding:"30px"}},r.a.createElement("div",{className:"ui grid",style:{}},r.a.createElement("div",{className:"twelve wide column"},r.a.createElement(b,{title:this.state.title,rating:this.state.rating}),r.a.createElement("div",{style:{minHeight:"220px",fontSize:"20px",lineHeight:"56pt"}},r.a.createElement(N,{description:this.state.description}),r.a.createElement(w,{details:this.state.otherDetails}))),r.a.createElement("div",{className:"four wide column",style:{display:"table-cell",textAlign:"center",verticalAlign:"middle"}},r.a.createElement("img",{src:this.state.poster,style:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}}))),r.a.createElement(x,{details:this.state.cast})))}}]),t}(r.a.Component);i.a.render(r.a.createElement(j,null),document.querySelector("#root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.7bc12cdc.chunk.js.map